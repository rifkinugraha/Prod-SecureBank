{ "time": "2024-06-02 15:51:56.1928", "level": "DEBUG", "function": "SecureBank.Program.Main", "message": "init main" }
{ "time": "2024-06-02 15:51:56.3942", "level": "INFO", "function": "SecureBank.Startup.ConfigureServices", "message": "Server=mssql,1433;Database=securebank;User Id=sa;Password=Your_Password123" }
{ "time": "2024-06-02 15:51:56.5751", "level": "WARN", "function": "Microsoft.Extensions.Logging.LoggingExtensions.UsingEphemeralFileSystemLocationInContainer", "message": "Storing keys in a directory '\/root\/.aspnet\/DataProtection-Keys' that may not be persisted outside of the container. Protected data will be unavailable when container is destroyed." }
{ "time": "2024-06-02 15:51:56.6057", "level": "INFO", "function": "Microsoft.Extensions.Logging.LoggingExtensions.UsingProfileAsKeyRepository", "message": "User profile is available. Using '\/root\/.aspnet\/DataProtection-Keys' as key repository; keys will not be encrypted at rest." }
{ "time": "2024-06-02 15:51:56.6525", "level": "INFO", "function": "Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager.Microsoft.AspNetCore.DataProtection.KeyManagement.Internal.IInternalXmlKeyManager.CreateNewKey", "message": "Creating key {53c64376-4b36-44f6-9304-1c1b191aa4ad} with creation date 2024-06-02 15:51:56Z, activation date 2024-06-02 15:51:56Z, and expiration date 2024-08-31 15:51:56Z." }
{ "time": "2024-06-02 15:51:56.6762", "level": "WARN", "function": "Microsoft.Extensions.Logging.LoggingExtensions.NoXMLEncryptorConfiguredKeyMayBePersistedToStorageInUnencryptedForm", "message": "No XML encryptor configured. Key {53c64376-4b36-44f6-9304-1c1b191aa4ad} may be persisted to storage in unencrypted form." }
{ "time": "2024-06-02 15:51:56.6881", "level": "INFO", "function": "Microsoft.Extensions.Logging.LoggingExtensions.WritingDataToFile", "message": "Writing data to file '\/root\/.aspnet\/DataProtection-Keys\/key-53c64376-4b36-44f6-9304-1c1b191aa4ad.xml'." }
{ "time": "2024-06-02 15:51:57.2334", "level": "INFO", "function": "SecureBank.DAL.Initializers.DbInitializer.Create", "message": "Creating database" }
{ "time": "2024-06-02 15:51:58.3961", "level": "INFO", "function": "Microsoft.EntityFrameworkCore.Diagnostics.EventDefinition`5.Log", "message": "Entity Framework Core 6.0.14 initialized 'PortalDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.14' with options: None" }
{ "time": "2024-06-02 15:52:21.5263", "level": "INFO", "function": "Microsoft.EntityFrameworkCore.Diagnostics.EventDefinition`6.Log", "message": "Executed DbCommand (4,895ms) [Parameters=[], CommandType='Text', CommandTimeout='60']\nCREATE DATABASE [securebank];" }
{ "time": "2024-06-02 15:52:22.7807", "level": "INFO", "function": "Microsoft.EntityFrameworkCore.Diagnostics.EventDefinition`6.Log", "message": "Executed DbCommand (1,246ms) [Parameters=[], CommandType='Text', CommandTimeout='60']\nIF SERVERPROPERTY('EngineEdition') <> 5\nBEGIN\n    ALTER DATABASE [securebank] SET READ_COMMITTED_SNAPSHOT ON;\nEND;" }
{ "time": "2024-06-02 15:52:22.8419", "level": "INFO", "function": "Microsoft.EntityFrameworkCore.Diagnostics.EventDefinition`6.Log", "message": "Executed DbCommand (15ms) [Parameters=[], CommandType='Text', CommandTimeout='30']\nSELECT 1" }
{ "time": "2024-06-02 15:52:23.0703", "level": "INFO", "function": "Microsoft.EntityFrameworkCore.Diagnostics.EventDefinition`6.Log", "message": "Executed DbCommand (17ms) [Parameters=[], CommandType='Text', CommandTimeout='30']\nCREATE TABLE [Sessions] (\n    [Id] int NOT NULL IDENTITY,\n    [SessionId] nvarchar(max) NULL,\n    [ExpirationDateTime] datetime2 NOT NULL,\n    CONSTRAINT [PK_Sessions] PRIMARY KEY ([Id])\n);" }
{ "time": "2024-06-02 15:52:23.0871", "level": "INFO", "function": "Microsoft.EntityFrameworkCore.Diagnostics.EventDefinition`6.Log", "message": "Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']\nCREATE TABLE [Transactions] (\n    [Id] int NOT NULL IDENTITY,\n    [SenderId] nvarchar(max) NULL,\n    [ReceiverId] nvarchar(max) NULL,\n    [TransactionDateTime] datetime2 NOT NULL,\n    [Reason] nvarchar(max) NULL,\n    [Amount] float NOT NULL,\n    [Reference] nvarchar(max) NULL,\n    CONSTRAINT [PK_Transactions] PRIMARY KEY ([Id])\n);" }
{ "time": "2024-06-02 15:52:23.0997", "level": "INFO", "function": "Microsoft.EntityFrameworkCore.Diagnostics.EventDefinition`6.Log", "message": "Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']\nCREATE TABLE [TransactionsGroupedByDay] (\n    [Amount] float NOT NULL,\n    [TransactionDateTime] datetime2 NOT NULL\n);" }
{ "time": "2024-06-02 15:52:23.1138", "level": "INFO", "function": "Microsoft.EntityFrameworkCore.Diagnostics.EventDefinition`6.Log", "message": "Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']\nCREATE TABLE [UserData] (\n    [Id] int NOT NULL IDENTITY,\n    [UserName] nvarchar(max) NULL,\n    [Name] nvarchar(max) NULL,\n    [Surname] nvarchar(max) NULL,\n    [Password] nvarchar(max) NULL,\n    [Role] int NOT NULL,\n    [Confirmed] bit NOT NULL,\n    [RecoveryGuid] nvarchar(max) NULL,\n    CONSTRAINT [PK_UserData] PRIMARY KEY ([Id])\n);" }
{ "time": "2024-06-02 15:52:23.1394", "level": "INFO", "function": "SecureBank.DAL.Initializers.DbInitializer.Create", "message": "Database created" }
{ "time": "2024-06-02 15:52:23.1750", "level": "INFO", "function": "Microsoft.EntityFrameworkCore.Diagnostics.EventDefinition`5.Log", "message": "Entity Framework Core 6.0.14 initialized 'PortalDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.14' with options: None" }
{ "time": "2024-06-02 15:52:23.6570", "level": "INFO", "function": "Microsoft.EntityFrameworkCore.Diagnostics.EventDefinition`6.Log", "message": "Executed DbCommand (38ms) [Parameters=[], CommandType='Text', CommandTimeout='30']\nSELECT CASE\n    WHEN EXISTS (\n        SELECT 1\n        FROM [UserData] AS [u]) THEN CAST(1 AS bit)\n    ELSE CAST(0 AS bit)\nEND" }
{ "time": "2024-06-02 15:52:23.6870", "level": "INFO", "function": "SecureBank.DAL.Initializers.DbInitializer.AddUsers", "message": "Seeding users" }
{ "time": "2024-06-02 15:52:24.1333", "level": "INFO", "function": "Microsoft.EntityFrameworkCore.Diagnostics.EventDefinition`6.Log", "message": "Executed DbCommand (91ms) [Parameters=[@p0='?' (DbType = Boolean), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Boolean), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Int32), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (Size = 4000), @p18='?' (DbType = Int32), @p19='?' (Size = 4000), @p20='?' (Size = 4000), @p21='?' (DbType = Boolean), @p22='?' (Size = 4000), @p23='?' (Size = 4000), @p24='?' (Size = 4000), @p25='?' (DbType = Int32), @p26='?' (Size = 4000), @p27='?' (Size = 4000), @p28='?' (DbType = Boolean), @p29='?' (Size = 4000), @p30='?' (Size = 4000), @p31='?' (Size = 4000), @p32='?' (DbType = Int32), @p33='?' (Size = 4000), @p34='?' (Size = 4000), @p35='?' (DbType = Boolean), @p36='?' (Size = 4000), @p37='?' (Size = 4000), @p38='?' (Size = 4000), @p39='?' (DbType = Int32), @p40='?' (Size = 4000), @p41='?' (Size = 4000), @p42='?' (DbType = Boolean), @p43='?' (Size = 4000), @p44='?' (Size = 4000), @p45='?' (Size = 4000), @p46='?' (DbType = Int32), @p47='?' (Size = 4000), @p48='?' (Size = 4000), @p49='?' (DbType = Boolean), @p50='?' (Size = 4000), @p51='?' (Size = 4000), @p52='?' (Size = 4000), @p53='?' (DbType = Int32), @p54='?' (Size = 4000), @p55='?' (Size = 4000), @p56='?' (DbType = Boolean), @p57='?' (Size = 4000), @p58='?' (Size = 4000), @p59='?' (Size = 4000), @p60='?' (DbType = Int32), @p61='?' (Size = 4000), @p62='?' (Size = 4000), @p63='?' (DbType = Boolean), @p64='?' (Size = 4000), @p65='?' (Size = 4000), @p66='?' (Size = 4000), @p67='?' (DbType = Int32), @p68='?' (Size = 4000), @p69='?' (Size = 4000), @p70='?' (DbType = Boolean), @p71='?' (Size = 4000), @p72='?' (Size = 4000), @p73='?' (Size = 4000), @p74='?' (DbType = Int32), @p75='?' (Size = 4000), @p76='?' (Size = 4000), @p77='?' (DbType = Boolean), @p78='?' (Size = 4000), @p79='?' (Size = 4000), @p80='?' (Size = 4000), @p81='?' (DbType = Int32), @p82='?' (Size = 4000), @p83='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']\nSET NOCOUNT ON;\nDECLARE @inserted0 TABLE ([Id] int, [_Position] [int]);\nMERGE [UserData] USING (\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, 0),\n(@p7, @p8, @p9, @p10, @p11, @p12, @p13, 1),\n(@p14, @p15, @p16, @p17, @p18, @p19, @p20, 2),\n(@p21, @p22, @p23, @p24, @p25, @p26, @p27, 3),\n(@p28, @p29, @p30, @p31, @p32, @p33, @p34, 4),\n(@p35, @p36, @p37, @p38, @p39, @p40, @p41, 5),\n(@p42, @p43, @p44, @p45, @p46, @p47, @p48, 6),\n(@p49, @p50, @p51, @p52, @p53, @p54, @p55, 7),\n(@p56, @p57, @p58, @p59, @p60, @p61, @p62, 8),\n(@p63, @p64, @p65, @p66, @p67, @p68, @p69, 9),\n(@p70, @p71, @p72, @p73, @p74, @p75, @p76, 10),\n(@p77, @p78, @p79, @p80, @p81, @p82, @p83, 11)) AS i ([Confirmed], [Name], [Password], [RecoveryGuid], [Role], [Surname], [UserName], _Position) ON 1=0\nWHEN NOT MATCHED THEN\nINSERT ([Confirmed], [Name], [Password], [RecoveryGuid], [Role], [Surname], [UserName])\nVALUES (i.[Confirmed], i.[Name], i.[Password], i.[RecoveryGuid], i.[Role], i.[Surname], i.[UserName])\nOUTPUT INSERTED.[Id], i._Position\nINTO @inserted0;\n\nSELECT [i].[Id] FROM @inserted0 i\nORDER BY [i].[_Position];" }
{ "time": "2024-06-02 15:52:24.2308", "level": "INFO", "function": "Microsoft.EntityFrameworkCore.Diagnostics.EventDefinition`6.Log", "message": "Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']\nSELECT CASE\n    WHEN EXISTS (\n        SELECT 1\n        FROM [Transactions] AS [t]) THEN CAST(1 AS bit)\n    ELSE CAST(0 AS bit)\nEND" }
{ "time": "2024-06-02 15:52:24.3263", "level": "INFO", "function": "Microsoft.EntityFrameworkCore.Diagnostics.EventDefinition`6.Log", "message": "Executed DbCommand (38ms) [Parameters=[@p0='?' (DbType = Double), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = DateTime2), @p6='?' (DbType = Double), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = DateTime2), @p12='?' (DbType = Double), @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = DateTime2), @p18='?' (DbType = Double), @p19='?' (Size = 4000), @p20='?' (Size = 4000), @p21='?' (Size = 4000), @p22='?' (Size = 4000), @p23='?' (DbType = DateTime2), @p24='?' (DbType = Double), @p25='?' (Size = 4000), @p26='?' (Size = 4000), @p27='?' (Size = 4000), @p28='?' (Size = 4000), @p29='?' (DbType = DateTime2), @p30='?' (DbType = Double), @p31='?' (Size = 4000), @p32='?' (Size = 4000), @p33='?' (Size = 4000), @p34='?' (Size = 4000), @p35='?' (DbType = DateTime2), @p36='?' (DbType = Double), @p37='?' (Size = 4000), @p38='?' (Size = 4000), @p39='?' (Size = 4000), @p40='?' (Size = 4000), @p41='?' (DbType = DateTime2), @p42='?' (DbType = Double), @p43='?' (Size = 4000), @p44='?' (Size = 4000), @p45='?' (Size = 4000), @p46='?' (Size = 4000), @p47='?' (DbType = DateTime2), @p48='?' (DbType = Double), @p49='?' (Size = 4000), @p50='?' (Size = 4000), @p51='?' (Size = 4000), @p52='?' (Size = 4000), @p53='?' (DbType = DateTime2), @p54='?' (DbType = Double), @p55='?' (Size = 4000), @p56='?' (Size = 4000), @p57='?' (Size = 4000), @p58='?' (Size = 4000), @p59='?' (DbType = DateTime2), @p60='?' (DbType = Double), @p61='?' (Size = 4000), @p62='?' (Size = 4000), @p63='?' (Size = 4000), @p64='?' (Size = 4000), @p65='?' (DbType = DateTime2), @p66='?' (DbType = Double), @p67='?' (Size = 4000), @p68='?' (Size = 4000), @p69='?' (Size = 4000), @p70='?' (Size = 4000), @p71='?' (DbType = DateTime2), @p72='?' (DbType = Double), @p73='?' (Size = 4000), @p74='?' (Size = 4000), @p75='?' (Size = 4000), @p76='?' (Size = 4000), @p77='?' (DbType = DateTime2), @p78='?' (DbType = Double), @p79='?' (Size = 4000), @p80='?' (Size = 4000), @p81='?' (Size = 4000), @p82='?' (Size = 4000), @p83='?' (DbType = DateTime2), @p84='?' (DbType = Double), @p85='?' (Size = 4000), @p86='?' (Size = 4000), @p87='?' (Size = 4000), @p88='?' (Size = 4000), @p89='?' (DbType = DateTime2), @p90='?' (DbType = Double), @p91='?' (Size = 4000), @p92='?' (Size = 4000), @p93='?' (Size = 4000), @p94='?' (Size = 4000), @p95='?' (DbType = DateTime2), @p96='?' (DbType = Double), @p97='?' (Size = 4000), @p98='?' (Size = 4000), @p99='?' (Size = 4000), @p100='?' (Size = 4000), @p101='?' (DbType = DateTime2), @p102='?' (DbType = Double), @p103='?' (Size = 4000), @p104='?' (Size = 4000), @p105='?' (Size = 4000), @p106='?' (Size = 4000), @p107='?' (DbType = DateTime2), @p108='?' (DbType = Double), @p109='?' (Size = 4000), @p110='?' (Size = 4000), @p111='?' (Size = 4000), @p112='?' (Size = 4000), @p113='?' (DbType = DateTime2), @p114='?' (DbType = Double), @p115='?' (Size = 4000), @p116='?' (Size = 4000), @p117='?' (Size = 4000), @p118='?' (Size = 4000), @p119='?' (DbType = DateTime2), @p120='?' (DbType = Double), @p121='?' (Size = 4000), @p122='?' (Size = 4000), @p123='?' (Size = 4000), @p124='?' (Size = 4000), @p125='?' (DbType = DateTime2), @p126='?' (DbType = Double), @p127='?' (Size = 4000), @p128='?' (Size = 4000), @p129='?' (Size = 4000), @p130='?' (Size = 4000), @p131='?' (DbType = DateTime2), @p132='?' (DbType = Double), @p133='?' (Size = 4000), @p134='?' (Size = 4000), @p135='?' (Size = 4000), @p136='?' (Size = 4000), @p137='?' (DbType = DateTime2), @p138='?' (DbType = Double), @p139='?' (Size = 4000), @p140='?' (Size = 4000), @p141='?' (Size = 4000), @p142='?' (Size = 4000), @p143='?' (DbType = DateTime2), @p144='?' (DbType = Double), @p145='?' (Size = 4000), @p146='?' (Size = 4000), @p147='?' (Size = 4000), @p148='?' (Size = 4000), @p149='?' (DbType = DateTime2), @p150='?' (DbType = Double), @p151='?' (Size = 4000), @p152='?' (Size = 4000), @p153='?' (Size = 4000), @p154='?' (Size = 4000), @p155='?' (DbType = DateTime2), @p156='?' (DbType = Double), @p157='?' (Size = 4000), @p158='?' (Size = 4000), @p159='?' (Size = 4000), @p160='?' (Size = 4000), @p161='?' (DbType = DateTime2), @p162='?' (DbType = Double), @p163='?' (Size = 4000), @p164='?' (Size = 4000), @p165='?' (Size = 4000), @p166='?' (Size = 4000), @p167='?' (DbType = DateTime2), @p168='?' (DbType = Double), @p169='?' (Size = 4000), @p170='?' (Size = 4000), @p171='?' (Size = 4000), @p172='?' (Size = 4000), @p173='?' (DbType = DateTime2), @p174='?' (DbType = Double), @p175='?' (Size = 4000), @p176='?' (Size = 4000), @p177='?' (Size = 4000), @p178='?' (Size = 4000), @p179='?' (DbType = DateTime2)], CommandType='Text', CommandTimeout='30']\nSET NOCOUNT ON;\nDECLARE @inserted0 TABLE ([Id] int, [_Position] [int]);\nMERGE [Transactions] USING (\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, 0),\n(@p6, @p7, @p8, @p9, @p10, @p11, 1),\n(@p12, @p13, @p14, @p15, @p16, @p17, 2),\n(@p18, @p19, @p20, @p21, @p22, @p23, 3),\n(@p24, @p25, @p26, @p27, @p28, @p29, 4),\n(@p30, @p31, @p32, @p33, @p34, @p35, 5),\n(@p36, @p37, @p38, @p39, @p40, @p41, 6),\n(@p42, @p43, @p44, @p45, @p46, @p47, 7),\n(@p48, @p49, @p50, @p51, @p52, @p53, 8),\n(@p54, @p55, @p56, @p57, @p58, @p59, 9),\n(@p60, @p61, @p62, @p63, @p64, @p65, 10),\n(@p66, @p67, @p68, @p69, @p70, @p71, 11),\n(@p72, @p73, @p74, @p75, @p76, @p77, 12),\n(@p78, @p79, @p80, @p81, @p82, @p83, 13),\n(@p84, @p85, @p86, @p87, @p88, @p89, 14),\n(@p90, @p91, @p92, @p93, @p94, @p95, 15),\n(@p96, @p97, @p98, @p99, @p100, @p101, 16),\n(@p102, @p103, @p104, @p105, @p106, @p107, 17),\n(@p108, @p109, @p110, @p111, @p112, @p113, 18),\n(@p114, @p115, @p116, @p117, @p118, @p119, 19),\n(@p120, @p121, @p122, @p123, @p124, @p125, 20),\n(@p126, @p127, @p128, @p129, @p130, @p131, 21),\n(@p132, @p133, @p134, @p135, @p136, @p137, 22),\n(@p138, @p139, @p140, @p141, @p142, @p143, 23),\n(@p144, @p145, @p146, @p147, @p148, @p149, 24),\n(@p150, @p151, @p152, @p153, @p154, @p155, 25),\n(@p156, @p157, @p158, @p159, @p160, @p161, 26),\n(@p162, @p163, @p164, @p165, @p166, @p167, 27),\n(@p168, @p169, @p170, @p171, @p172, @p173, 28),\n(@p174, @p175, @p176, @p177, @p178, @p179, 29)) AS i ([Amount], [Reason], [ReceiverId], [Reference], [SenderId], [TransactionDateTime], _Position) ON 1=0\nWHEN NOT MATCHED THEN\nINSERT ([Amount], [Reason], [ReceiverId], [Reference], [SenderId], [TransactionDateTime])\nVALUES (i.[Amount], i.[Reason], i.[ReceiverId], i.[Reference], i.[SenderId], i.[TransactionDateTime])\nOUTPUT INSERTED.[Id], i._Position\nINTO @inserted0;\n\nSELECT [i].[Id] FROM @inserted0 i\nORDER BY [i].[_Position];" }
{ "time": "2024-06-02 15:52:24.4376", "level": "INFO", "function": "Microsoft.EntityFrameworkCore.Diagnostics.EventDefinition`5.Log", "message": "Entity Framework Core 6.0.14 initialized 'PortalDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.14' with options: None" }
{ "time": "2024-06-02 15:52:24.5343", "level": "INFO", "function": "Microsoft.EntityFrameworkCore.Diagnostics.EventDefinition`6.Log", "message": "Executed DbCommand (17ms) [Parameters=[@__admin_0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']\nSELECT CASE\n    WHEN EXISTS (\n        SELECT 1\n        FROM [UserData] AS [u]\n        WHERE [u].[UserName] = @__admin_0) THEN CAST(1 AS bit)\n    ELSE CAST(0 AS bit)\nEND" }
{ "time": "2024-06-02 15:52:24.5565", "level": "INFO", "function": "Microsoft.EntityFrameworkCore.Diagnostics.EventDefinition`6.Log", "message": "Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Boolean), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']\nSET NOCOUNT ON;\nINSERT INTO [UserData] ([Confirmed], [Name], [Password], [RecoveryGuid], [Role], [Surname], [UserName])\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);\nSELECT [Id]\nFROM [UserData]\nWHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();" }
{ "time": "2024-06-02 15:52:24.5770", "level": "INFO", "function": "Microsoft.EntityFrameworkCore.Diagnostics.EventDefinition`6.Log", "message": "Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Double), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = DateTime2)], CommandType='Text', CommandTimeout='30']\nSET NOCOUNT ON;\nINSERT INTO [Transactions] ([Amount], [Reason], [ReceiverId], [Reference], [SenderId], [TransactionDateTime])\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);\nSELECT [Id]\nFROM [Transactions]\nWHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();" }
{ "time": "2024-06-02 15:52:24.6154", "level": "INFO", "function": "Microsoft.EntityFrameworkCore.Diagnostics.EventDefinition`6.Log", "message": "Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']\nSELECT CASE\n    WHEN EXISTS (\n        SELECT 1\n        FROM [UserData] AS [u]\n        WHERE [u].[UserName] = N'credit@securebank.com') THEN CAST(1 AS bit)\n    ELSE CAST(0 AS bit)\nEND" }
{ "time": "2024-06-02 15:52:24.6807", "level": "INFO", "function": "Microsoft.AspNetCore.Hosting.GenericWebHostService+<StartAsync>d__37.MoveNext", "message": "Now listening on: http:\/\/[::]:80" }
{ "time": "2024-06-02 15:52:24.6939", "level": "INFO", "function": "Microsoft.Extensions.Hosting.Internal.ConsoleLifetime.OnApplicationStarted", "message": "Application started. Press Ctrl+C to shut down." }
{ "time": "2024-06-02 15:52:24.7011", "level": "INFO", "function": "Microsoft.Extensions.Hosting.Internal.ConsoleLifetime.OnApplicationStarted", "message": "Hosting environment: Production" }
{ "time": "2024-06-02 15:52:24.7011", "level": "INFO", "function": "Microsoft.Extensions.Hosting.Internal.ConsoleLifetime.OnApplicationStarted", "message": "Content root path: \/app" }
{ "time": "2024-06-02 15:56:23.2881", "level": "INFO", "function": "Microsoft.Extensions.Hosting.Internal.ConsoleLifetime.OnApplicationStopping", "message": "Application is shutting down..." }
{ "time": "2024-06-02 15:57:45.3559", "level": "DEBUG", "function": "SecureBank.Program.Main", "message": "init main" }
{ "time": "2024-06-02 15:57:45.5442", "level": "INFO", "function": "SecureBank.Startup.ConfigureServices", "message": "Server=mssql,1433;Database=securebank;User Id=sa;Password=Your_Password123" }
{ "time": "2024-06-02 15:57:45.7203", "level": "WARN", "function": "Microsoft.Extensions.Logging.LoggingExtensions.UsingEphemeralFileSystemLocationInContainer", "message": "Storing keys in a directory '\/root\/.aspnet\/DataProtection-Keys' that may not be persisted outside of the container. Protected data will be unavailable when container is destroyed." }
{ "time": "2024-06-02 15:57:45.7441", "level": "INFO", "function": "Microsoft.Extensions.Logging.LoggingExtensions.UsingProfileAsKeyRepository", "message": "User profile is available. Using '\/root\/.aspnet\/DataProtection-Keys' as key repository; keys will not be encrypted at rest." }
{ "time": "2024-06-02 15:57:46.2361", "level": "INFO", "function": "SecureBank.DAL.Initializers.DbInitializer.Create", "message": "Creating database" }
{ "time": "2024-06-02 15:57:47.4794", "level": "INFO", "function": "Microsoft.EntityFrameworkCore.Diagnostics.EventDefinition`5.Log", "message": "Entity Framework Core 6.0.14 initialized 'PortalDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.14' with options: None" }
{ "time": "2024-06-02 15:57:55.0738", "level": "ERROR", "function": "Microsoft.EntityFrameworkCore.Diagnostics.EventDefinition`6.Log", "message": "Failed executing DbCommand (30ms) [Parameters=[], CommandType='Text', CommandTimeout='60']\nCREATE DATABASE [securebank];" }
{ "time": "2024-06-02 15:57:55.0946", "level": "ERROR", "function": "SecureBank.DAL.Initializers.DbInitializerExtensions.CreateDatabase", "message": "Database 'securebank' already exists. Choose a different database name." }
{ "time": "2024-06-02 15:57:55.1358", "level": "INFO", "function": "Microsoft.EntityFrameworkCore.Diagnostics.EventDefinition`5.Log", "message": "Entity Framework Core 6.0.14 initialized 'PortalDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.14' with options: None" }
{ "time": "2024-06-02 15:57:55.6647", "level": "ERROR", "function": "Microsoft.EntityFrameworkCore.Diagnostics.EventDefinition`2.Log", "message": "An error occurred using the connection to database 'securebank' on server 'mssql,1433'." }
{ "time": "2024-06-02 15:57:55.6992", "level": "ERROR", "function": "Microsoft.EntityFrameworkCore.Diagnostics.EventDefinition`3.Log", "message": "An exception occurred while iterating over the results of a query for context type 'SecureBank.DAL.PortalDBContext'.\nSystem.InvalidOperationException: An exception has been raised that is likely due to a transient failure. Consider enabling transient error resiliency by adding 'EnableRetryOnFailure' to the 'UseSqlServer' call.\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database \"securebank\" requested by the login. The login failed.\nLogin failed for user 'sa'.\n   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)\n   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)\n   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)\n   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)\n   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)\n   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)\n   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)\n   at Microsoft.Data.SqlClient.SqlConnection.Open()\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.OpenDbConnection(Boolean errorsExpected)\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternal(Boolean errorsExpected)\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Open(Boolean errorsExpected)\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__19_0(DbContext _, Enumerator enumerator)\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)\nClientConnectionId:77f67a30-8ada-4cba-a44b-b81aecec8b2e\nError Number:4060,State:1,Class:11\n   --- End of inner exception stack trace ---\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()" }
{ "time": "2024-06-02 15:57:55.7080", "level": "ERROR", "function": "SecureBank.DAL.Initializers.DbInitializerExtensions.SeedDatabase", "message": "An exception has been raised that is likely due to a transient failure. Consider enabling transient error resiliency by adding 'EnableRetryOnFailure' to the 'UseSqlServer' call." }
{ "time": "2024-06-02 15:57:55.7905", "level": "INFO", "function": "Microsoft.EntityFrameworkCore.Diagnostics.EventDefinition`5.Log", "message": "Entity Framework Core 6.0.14 initialized 'PortalDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.14' with options: None" }
{ "time": "2024-06-02 15:57:55.9158", "level": "ERROR", "function": "Microsoft.EntityFrameworkCore.Diagnostics.EventDefinition`2.Log", "message": "An error occurred using the connection to database 'securebank' on server 'mssql,1433'." }
{ "time": "2024-06-02 15:57:55.9300", "level": "ERROR", "function": "Microsoft.EntityFrameworkCore.Diagnostics.EventDefinition`3.Log", "message": "An exception occurred while iterating over the results of a query for context type 'SecureBank.DAL.PortalDBContext'.\nSystem.InvalidOperationException: An exception has been raised that is likely due to a transient failure. Consider enabling transient error resiliency by adding 'EnableRetryOnFailure' to the 'UseSqlServer' call.\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database \"securebank\" requested by the login. The login failed.\nLogin failed for user 'sa'.\n   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)\n   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)\n   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)\n   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)\n   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)\n   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)\n   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)\n   at Microsoft.Data.SqlClient.SqlConnection.Open()\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.OpenDbConnection(Boolean errorsExpected)\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternal(Boolean errorsExpected)\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Open(Boolean errorsExpected)\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__19_0(DbContext _, Enumerator enumerator)\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)\nClientConnectionId:77f67a30-8ada-4cba-a44b-b81aecec8b2e\nError Number:4060,State:1,Class:11\n   --- End of inner exception stack trace ---\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()" }
{ "time": "2024-06-02 15:57:55.9358", "level": "ERROR", "function": "SecureBank.DAL.Initializers.DbInitializerExtensions.InitializeDatabase", "message": "An exception has been raised that is likely due to a transient failure. Consider enabling transient error resiliency by adding 'EnableRetryOnFailure' to the 'UseSqlServer' call." }
{ "time": "2024-06-02 15:57:56.0003", "level": "INFO", "function": "Microsoft.AspNetCore.Hosting.GenericWebHostService+<StartAsync>d__37.MoveNext", "message": "Now listening on: http:\/\/[::]:80" }
{ "time": "2024-06-02 15:57:56.0132", "level": "INFO", "function": "Microsoft.Extensions.Hosting.Internal.ConsoleLifetime.OnApplicationStarted", "message": "Application started. Press Ctrl+C to shut down." }
{ "time": "2024-06-02 15:57:56.0140", "level": "INFO", "function": "Microsoft.Extensions.Hosting.Internal.ConsoleLifetime.OnApplicationStarted", "message": "Hosting environment: Production" }
{ "time": "2024-06-02 15:57:56.0259", "level": "INFO", "function": "Microsoft.Extensions.Hosting.Internal.ConsoleLifetime.OnApplicationStarted", "message": "Content root path: \/app" }
{ "time": "2024-06-02 15:58:37.7005", "level": "INFO", "function": "Microsoft.Extensions.Hosting.Internal.ConsoleLifetime.OnApplicationStopping", "message": "Application is shutting down..." }
{ "time": "2024-06-02 16:00:01.4488", "level": "DEBUG", "function": "SecureBank.Program.Main", "message": "init main" }
{ "time": "2024-06-02 16:00:01.6461", "level": "INFO", "function": "SecureBank.Startup.ConfigureServices", "message": "Server=mssql,1433;Database=securebank;User Id=sa;Password=Your_Password123" }
{ "time": "2024-06-02 16:00:01.8249", "level": "WARN", "function": "Microsoft.Extensions.Logging.LoggingExtensions.UsingEphemeralFileSystemLocationInContainer", "message": "Storing keys in a directory '\/root\/.aspnet\/DataProtection-Keys' that may not be persisted outside of the container. Protected data will be unavailable when container is destroyed." }
{ "time": "2024-06-02 16:00:01.8496", "level": "INFO", "function": "Microsoft.Extensions.Logging.LoggingExtensions.UsingProfileAsKeyRepository", "message": "User profile is available. Using '\/root\/.aspnet\/DataProtection-Keys' as key repository; keys will not be encrypted at rest." }
{ "time": "2024-06-02 16:00:02.4117", "level": "INFO", "function": "SecureBank.DAL.Initializers.DbInitializer.Create", "message": "Creating database" }
{ "time": "2024-06-02 16:00:03.4588", "level": "INFO", "function": "Microsoft.EntityFrameworkCore.Diagnostics.EventDefinition`5.Log", "message": "Entity Framework Core 6.0.14 initialized 'PortalDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.14' with options: None" }
{ "time": "2024-06-02 16:00:10.8961", "level": "ERROR", "function": "Microsoft.EntityFrameworkCore.Diagnostics.EventDefinition`6.Log", "message": "Failed executing DbCommand (23ms) [Parameters=[], CommandType='Text', CommandTimeout='60']\nCREATE DATABASE [securebank];" }
{ "time": "2024-06-02 16:00:10.9163", "level": "ERROR", "function": "SecureBank.DAL.Initializers.DbInitializerExtensions.CreateDatabase", "message": "Database 'securebank' already exists. Choose a different database name." }
{ "time": "2024-06-02 16:00:10.9592", "level": "INFO", "function": "Microsoft.EntityFrameworkCore.Diagnostics.EventDefinition`5.Log", "message": "Entity Framework Core 6.0.14 initialized 'PortalDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.14' with options: None" }
{ "time": "2024-06-02 16:00:11.4626", "level": "ERROR", "function": "Microsoft.EntityFrameworkCore.Diagnostics.EventDefinition`2.Log", "message": "An error occurred using the connection to database 'securebank' on server 'mssql,1433'." }
{ "time": "2024-06-02 16:00:11.5057", "level": "ERROR", "function": "Microsoft.EntityFrameworkCore.Diagnostics.EventDefinition`3.Log", "message": "An exception occurred while iterating over the results of a query for context type 'SecureBank.DAL.PortalDBContext'.\nSystem.InvalidOperationException: An exception has been raised that is likely due to a transient failure. Consider enabling transient error resiliency by adding 'EnableRetryOnFailure' to the 'UseSqlServer' call.\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database \"securebank\" requested by the login. The login failed.\nLogin failed for user 'sa'.\n   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)\n   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)\n   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)\n   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)\n   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)\n   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)\n   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)\n   at Microsoft.Data.SqlClient.SqlConnection.Open()\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.OpenDbConnection(Boolean errorsExpected)\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternal(Boolean errorsExpected)\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Open(Boolean errorsExpected)\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__19_0(DbContext _, Enumerator enumerator)\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)\nClientConnectionId:de564363-5e90-4d4c-aefa-fae85867a270\nError Number:4060,State:1,Class:11\n   --- End of inner exception stack trace ---\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()" }
{ "time": "2024-06-02 16:00:11.5069", "level": "ERROR", "function": "SecureBank.DAL.Initializers.DbInitializerExtensions.SeedDatabase", "message": "An exception has been raised that is likely due to a transient failure. Consider enabling transient error resiliency by adding 'EnableRetryOnFailure' to the 'UseSqlServer' call." }
{ "time": "2024-06-02 16:00:11.6419", "level": "INFO", "function": "Microsoft.EntityFrameworkCore.Diagnostics.EventDefinition`5.Log", "message": "Entity Framework Core 6.0.14 initialized 'PortalDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.14' with options: None" }
{ "time": "2024-06-02 16:00:11.7317", "level": "ERROR", "function": "Microsoft.EntityFrameworkCore.Diagnostics.EventDefinition`2.Log", "message": "An error occurred using the connection to database 'securebank' on server 'mssql,1433'." }
{ "time": "2024-06-02 16:00:11.7405", "level": "ERROR", "function": "Microsoft.EntityFrameworkCore.Diagnostics.EventDefinition`3.Log", "message": "An exception occurred while iterating over the results of a query for context type 'SecureBank.DAL.PortalDBContext'.\nSystem.InvalidOperationException: An exception has been raised that is likely due to a transient failure. Consider enabling transient error resiliency by adding 'EnableRetryOnFailure' to the 'UseSqlServer' call.\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database \"securebank\" requested by the login. The login failed.\nLogin failed for user 'sa'.\n   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)\n   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)\n   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)\n   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)\n   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)\n   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)\n   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)\n   at Microsoft.Data.SqlClient.SqlConnection.Open()\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.OpenDbConnection(Boolean errorsExpected)\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternal(Boolean errorsExpected)\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Open(Boolean errorsExpected)\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__19_0(DbContext _, Enumerator enumerator)\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)\nClientConnectionId:de564363-5e90-4d4c-aefa-fae85867a270\nError Number:4060,State:1,Class:11\n   --- End of inner exception stack trace ---\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()" }
{ "time": "2024-06-02 16:00:11.7493", "level": "ERROR", "function": "SecureBank.DAL.Initializers.DbInitializerExtensions.InitializeDatabase", "message": "An exception has been raised that is likely due to a transient failure. Consider enabling transient error resiliency by adding 'EnableRetryOnFailure' to the 'UseSqlServer' call." }
{ "time": "2024-06-02 16:00:11.8105", "level": "INFO", "function": "Microsoft.AspNetCore.Hosting.GenericWebHostService+<StartAsync>d__37.MoveNext", "message": "Now listening on: http:\/\/[::]:80" }
{ "time": "2024-06-02 16:00:11.8237", "level": "INFO", "function": "Microsoft.Extensions.Hosting.Internal.ConsoleLifetime.OnApplicationStarted", "message": "Application started. Press Ctrl+C to shut down." }
{ "time": "2024-06-02 16:00:11.8306", "level": "INFO", "function": "Microsoft.Extensions.Hosting.Internal.ConsoleLifetime.OnApplicationStarted", "message": "Hosting environment: Production" }
{ "time": "2024-06-02 16:00:11.8306", "level": "INFO", "function": "Microsoft.Extensions.Hosting.Internal.ConsoleLifetime.OnApplicationStarted", "message": "Content root path: \/app" }
{ "time": "2024-06-02 16:04:11.0017", "level": "INFO", "function": "Microsoft.Extensions.Hosting.Internal.ConsoleLifetime.OnApplicationStopping", "message": "Application is shutting down..." }
{ "time": "2024-06-02 16:06:36.7483", "level": "DEBUG", "function": "SecureBank.Program.Main", "message": "init main" }
{ "time": "2024-06-02 16:06:36.9446", "level": "INFO", "function": "SecureBank.Startup.ConfigureServices", "message": "Server=mssql,1433;Database=securebank;User Id=sa;Password=Your_Password123" }
{ "time": "2024-06-02 16:06:37.1159", "level": "WARN", "function": "Microsoft.Extensions.Logging.LoggingExtensions.UsingEphemeralFileSystemLocationInContainer", "message": "Storing keys in a directory '\/root\/.aspnet\/DataProtection-Keys' that may not be persisted outside of the container. Protected data will be unavailable when container is destroyed." }
{ "time": "2024-06-02 16:06:37.1421", "level": "INFO", "function": "Microsoft.Extensions.Logging.LoggingExtensions.UsingProfileAsKeyRepository", "message": "User profile is available. Using '\/root\/.aspnet\/DataProtection-Keys' as key repository; keys will not be encrypted at rest." }
{ "time": "2024-06-02 16:06:37.6756", "level": "INFO", "function": "SecureBank.DAL.Initializers.DbInitializer.Create", "message": "Creating database" }
{ "time": "2024-06-02 16:06:38.7656", "level": "INFO", "function": "Microsoft.EntityFrameworkCore.Diagnostics.EventDefinition`5.Log", "message": "Entity Framework Core 6.0.14 initialized 'PortalDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.14' with options: None" }
{ "time": "2024-06-02 16:06:45.1112", "level": "ERROR", "function": "Microsoft.EntityFrameworkCore.Diagnostics.EventDefinition`6.Log", "message": "Failed executing DbCommand (27ms) [Parameters=[], CommandType='Text', CommandTimeout='60']\nCREATE DATABASE [securebank];" }
{ "time": "2024-06-02 16:06:45.1340", "level": "ERROR", "function": "SecureBank.DAL.Initializers.DbInitializerExtensions.CreateDatabase", "message": "Database 'securebank' already exists. Choose a different database name." }
{ "time": "2024-06-02 16:06:45.1718", "level": "INFO", "function": "Microsoft.EntityFrameworkCore.Diagnostics.EventDefinition`5.Log", "message": "Entity Framework Core 6.0.14 initialized 'PortalDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.14' with options: None" }
{ "time": "2024-06-02 16:06:45.6386", "level": "ERROR", "function": "Microsoft.EntityFrameworkCore.Diagnostics.EventDefinition`2.Log", "message": "An error occurred using the connection to database 'securebank' on server 'mssql,1433'." }
{ "time": "2024-06-02 16:06:45.6753", "level": "ERROR", "function": "Microsoft.EntityFrameworkCore.Diagnostics.EventDefinition`3.Log", "message": "An exception occurred while iterating over the results of a query for context type 'SecureBank.DAL.PortalDBContext'.\nSystem.InvalidOperationException: An exception has been raised that is likely due to a transient failure. Consider enabling transient error resiliency by adding 'EnableRetryOnFailure' to the 'UseSqlServer' call.\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database \"securebank\" requested by the login. The login failed.\nLogin failed for user 'sa'.\n   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)\n   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)\n   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)\n   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)\n   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)\n   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)\n   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)\n   at Microsoft.Data.SqlClient.SqlConnection.Open()\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.OpenDbConnection(Boolean errorsExpected)\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternal(Boolean errorsExpected)\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Open(Boolean errorsExpected)\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__19_0(DbContext _, Enumerator enumerator)\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)\nClientConnectionId:ccba4ad8-301b-41c3-9fa7-e19b066e1cf8\nError Number:4060,State:1,Class:11\n   --- End of inner exception stack trace ---\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()" }
{ "time": "2024-06-02 16:06:45.6819", "level": "ERROR", "function": "SecureBank.DAL.Initializers.DbInitializerExtensions.SeedDatabase", "message": "An exception has been raised that is likely due to a transient failure. Consider enabling transient error resiliency by adding 'EnableRetryOnFailure' to the 'UseSqlServer' call." }
{ "time": "2024-06-02 16:06:45.7846", "level": "INFO", "function": "Microsoft.EntityFrameworkCore.Diagnostics.EventDefinition`5.Log", "message": "Entity Framework Core 6.0.14 initialized 'PortalDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.14' with options: None" }
{ "time": "2024-06-02 16:06:45.8831", "level": "ERROR", "function": "Microsoft.EntityFrameworkCore.Diagnostics.EventDefinition`2.Log", "message": "An error occurred using the connection to database 'securebank' on server 'mssql,1433'." }
{ "time": "2024-06-02 16:06:45.8905", "level": "ERROR", "function": "Microsoft.EntityFrameworkCore.Diagnostics.EventDefinition`3.Log", "message": "An exception occurred while iterating over the results of a query for context type 'SecureBank.DAL.PortalDBContext'.\nSystem.InvalidOperationException: An exception has been raised that is likely due to a transient failure. Consider enabling transient error resiliency by adding 'EnableRetryOnFailure' to the 'UseSqlServer' call.\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database \"securebank\" requested by the login. The login failed.\nLogin failed for user 'sa'.\n   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)\n   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)\n   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)\n   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)\n   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)\n   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)\n   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)\n   at Microsoft.Data.SqlClient.SqlConnection.Open()\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.OpenDbConnection(Boolean errorsExpected)\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternal(Boolean errorsExpected)\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Open(Boolean errorsExpected)\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__19_0(DbContext _, Enumerator enumerator)\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)\nClientConnectionId:ccba4ad8-301b-41c3-9fa7-e19b066e1cf8\nError Number:4060,State:1,Class:11\n   --- End of inner exception stack trace ---\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()" }
{ "time": "2024-06-02 16:06:45.8905", "level": "ERROR", "function": "SecureBank.DAL.Initializers.DbInitializerExtensions.InitializeDatabase", "message": "An exception has been raised that is likely due to a transient failure. Consider enabling transient error resiliency by adding 'EnableRetryOnFailure' to the 'UseSqlServer' call." }
{ "time": "2024-06-02 16:06:45.9412", "level": "INFO", "function": "Microsoft.AspNetCore.Hosting.GenericWebHostService+<StartAsync>d__37.MoveNext", "message": "Now listening on: http:\/\/[::]:80" }
{ "time": "2024-06-02 16:06:45.9529", "level": "INFO", "function": "Microsoft.Extensions.Hosting.Internal.ConsoleLifetime.OnApplicationStarted", "message": "Application started. Press Ctrl+C to shut down." }
{ "time": "2024-06-02 16:06:45.9623", "level": "INFO", "function": "Microsoft.Extensions.Hosting.Internal.ConsoleLifetime.OnApplicationStarted", "message": "Hosting environment: Production" }
{ "time": "2024-06-02 16:06:45.9684", "level": "INFO", "function": "Microsoft.Extensions.Hosting.Internal.ConsoleLifetime.OnApplicationStarted", "message": "Content root path: \/app" }
{ "time": "2024-06-02 16:08:34.7060", "level": "INFO", "function": "Microsoft.Extensions.Hosting.Internal.ConsoleLifetime.OnApplicationStopping", "message": "Application is shutting down..." }
